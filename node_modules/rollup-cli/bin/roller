#!/usr/bin/env node

'use strict';

const fs = require('fs');
const commander = require('commander');
const chalk = require('chalk');
const pkg = require('../package.json');
const run = require('../lib/run');

/**
 * Usage
 */
commander
  .version(pkg.version)
  .usage('[project-name]')
  .parse(process.argv);

const argsLen = commander.args.length;

if (argsLen === 0) {
  commander.help();
} else if (argsLen === 1) {
  if (fs.existsSync(commander.args[0])) {
    console.log(chalk.bgRed('Project name already exist!'));
    process.exit();
  }
  run(commander.args[0]);
} else {
  console.log(chalk.bgRed('Project name invalid!'));
}